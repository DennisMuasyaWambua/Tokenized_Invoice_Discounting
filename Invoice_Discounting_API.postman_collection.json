{
	"info": {
		"_postman_id": "a1b2c3d4-e5f6-7890-abcd-123456789012",
		"name": "Invoice Discounting API",
		"description": "Complete API collection for Invoice Discounting Platform with authentication, KYC, roles, invoices, and payments",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"supplier123\",\n    \"email\": \"supplier@company.com\",\n    \"mobile_number\": \"0712345678\",\n    \"password\": \"SecurePass123!\",\n    \"password_confirm\": \"SecurePass123!\",\n    \"company_name\": \"ABC Medical Supplies Ltd\",\n    \"kra_pin\": \"P123456789X\",\n    \"role_name\": \"supplier\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/register/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"register",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Login User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"supplier@company.com\",\n    \"password\": \"SecurePass123!\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Logout User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/auth/logout/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"logout",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Roles Management",
			"item": [
				{
					"name": "Get All Roles",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/roles/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"roles",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Active Roles",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/roles/active/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"roles",
								"active",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Role",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Financier\",\n    \"short_name\": \"financier\",\n    \"description\": \"Provides funding for invoices\",\n    \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/roles/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"roles",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Role",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Updated Role Name\",\n    \"short_name\": \"updated_role\",\n    \"description\": \"Updated description\",\n    \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/roles/{{role_id}}/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"roles",
								"{{role_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Role",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/roles/{{role_id}}/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"roles",
								"{{role_id}}",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "KYC Documents",
			"item": [
				{
					"name": "Upload KYC Document",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "document_type",
									"value": "national_id",
									"description": "Options: national_id, business_certificate, kra_certificate",
									"type": "text"
								},
								{
									"key": "document_file",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/kyc-documents/upload/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"kyc-documents",
								"upload",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get User KYC Documents",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/kyc-documents/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"kyc-documents",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get KYC Status",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/kyc-documents/status/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"kyc-documents",
								"status",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Update KYC Document",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "document_type",
									"value": "national_id",
									"type": "text"
								},
								{
									"key": "document_file",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/kyc-documents/{{document_id}}/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"kyc-documents",
								"{{document_id}}",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "Get All Users",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/users/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get User by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/users/{{user_id}}/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"{{user_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Update User",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"updated_username\",\n    \"email\": \"updated@email.com\",\n    \"mobile_number\": \"0712345679\",\n    \"company_name\": \"Updated Company Name\",\n    \"kra_pin\": \"P987654321Y\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/users/{{user_id}}/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"{{user_id}}",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Invoices",
			"item": [
				{
					"name": "Get All Invoices",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/invoices/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"invoices",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Invoices by Status",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/invoices/?status=pending",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"invoices",
								""
							],
							"query": [
								{
									"key": "status",
									"value": "pending",
									"description": "Options: pending, approved, funded, rejected, settled"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Search Invoices",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/invoices/?search=INV001",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"invoices",
								""
							],
							"query": [
								{
									"key": "search",
									"value": "INV001",
									"description": "Search by invoice number or company name"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Upload Invoice",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "invoice_number",
									"value": "INV-2025-001",
									"type": "text"
								},
								{
									"key": "patientName",
									"value": "John Doe Medical Center",
									"type": "text"
								},
								{
									"key": "insurerName",
									"value": "Kenya Medical Insurance",
									"type": "text"
								},
								{
									"key": "amount",
									"value": "150000.00",
									"type": "text"
								},
								{
									"key": "due_date",
									"value": "2025-02-28",
									"type": "text"
								},
								{
									"key": "serviceDescription",
									"value": "Medical supplies and equipment",
									"type": "text"
								},
								{
									"key": "invoice_document",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/invoices/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"invoices",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Invoice by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/invoices/{{invoice_id}}/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"invoices",
								"{{invoice_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Invoice",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"invoice_number\": \"INV-2025-001-UPDATED\",\n    \"invoice_amount\": \"175000.00\",\n    \"due_date\": \"2025-03-15\",\n    \"discount_rate\": \"3.50\",\n    \"advance_rate\": \"85.00\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/invoices/{{invoice_id}}/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"invoices",
								"{{invoice_id}}",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Contracts",
			"item": [
				{
					"name": "Get All Contracts",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/contracts/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Contract",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"buyer\": 1,\n    \"supplier\": 2,\n    \"contract_reference\": \"CONTRACT-2025-001\",\n    \"amount\": \"500000.00\",\n    \"date_from\": \"2025-01-01\",\n    \"date_to\": \"2025-12-31\",\n    \"status\": \"active\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/contracts/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Contract by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/contracts/{{contract_id}}/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"contracts",
								"{{contract_id}}",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Payments",
			"item": [
				{
					"name": "Get All Payments",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/payments/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"payments",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Transactions",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/transactions/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"transactions",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Transactions by Type",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/transactions/?type=advance",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"transactions",
								""
							],
							"query": [
								{
									"key": "type",
									"value": "advance",
									"description": "Options: advance, settlement, retention_release, fee"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Funding",
			"item": [
				{
					"name": "Request Funding",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"invoiceId\": 1,\n    \"mpesaNumber\": \"0712345678\",\n    \"requestedAmount\": \"127500.00\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/funding/request/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"funding",
								"request",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Dashboard",
			"item": [
				{
					"name": "Dashboard Stats",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dashboard/stats/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"dashboard",
								"stats",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Recent Invoices",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dashboard/recent-invoices/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"dashboard",
								"recent-invoices",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Funding History",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/dashboard/funding-history/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"dashboard",
								"funding-history",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Credit Profile",
			"item": [
				{
					"name": "Get Credit Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/credit/profile/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"credit",
								"profile",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Admin Operations",
			"item": [
				{
					"name": "Get Pending Approvals",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/approvals/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"admin",
								"approvals",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Approve Invoice",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/invoices/{{invoice_id}}/approve/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"admin",
								"invoices",
								"{{invoice_id}}",
								"approve",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Decline Invoice",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/invoices/{{invoice_id}}/decline/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"admin",
								"invoices",
								"{{invoice_id}}",
								"decline",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "File Upload",
			"item": [
				{
					"name": "Generic File Upload",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{auth_token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/upload/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"upload",
								""
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		},
		{
			"key": "auth_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "user_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "role_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "invoice_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "contract_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "document_id",
			"value": "",
			"type": "string"
		}
	]
}